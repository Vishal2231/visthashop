{% extends 'base.html' %}
{% load static %}

{% block title %}Products | VisthaShoap{% endblock %}

{% block extra_css %}

<link rel="stylesheet" href="{% static 'css/products.css' %}">

{% endblock %}

{% block content %}

<!-- âœ… HERO SECTION -->

<section class="product-hero">
  <div class="hero-content">
    <div class="hero-text">
      <h1>Season Sale <span>Menâ€™s & Womenâ€™s Fashion</span></h1>
      <p>Shop the latest trends in technology, accessories, and fashion with exclusive discounts up to 70% off!</p>
      <div class="hero-buttons">
        <a href="#products" class="btn-hero">Shop Now</a>
        <a href="{% url 'home' %}" class="btn-outline">Read More</a>
      </div>
    </div>
    <div class="hero-image">
      <img src="{% static 'images/prhero.jpg' %}" alt="Hero Image">
    </div>
  </div>
</section>

<!-- âœ… CATEGORY BANNERS -->

<section class="category-banners">
  <div class="banner-grid">
    <div class="banner-item tech">
      <div class="banner-text">
        <h3>Technology</h3>
        <p>Smart gadgets & electronics</p>
        <a href="#Technology" class="btn-small">Shop Now</a>
      </div>
    </div>


<div class="banner-item audio">
  <div class="banner-text">
    <h3>Audio</h3>
    <p>Headphones & speakers</p>
    <a href="#Audio" class="btn-small">Shop Now</a>
  </div>
</div>

<div class="banner-item gear">
  <div class="banner-text">
    <h3>Fashion</h3>
    <p>Everything you need daily</p>
    <a href="#Fashion" class="btn-small">Shop Now</a>
  </div>
</div>

<div class="banner-item computers">
  <div class="banner-text">
    <h3>Grocery</h3>
    <p>Reliable laptops & devices</p>
    <a href="#Grocery" class="btn-small">Shop Now</a>
  </div>
</div>


  </div>
</section>

<!-- âœ… FEATURED PRODUCTS -->

<section class="featured-products" id="products">
  <h2 class="section-title">Featured Products</h2>

{% for category, items in categorized_products.items %}

  <div class="category-block" id="{{ category }}">
    <h3 class="category-title">{{ category }}</h3>
    <div class="product-grid">
      {% for product in items %}
      <div class="product-card" onclick="location.href='/product/{{ product.id }}/'">
        <img src="{{ product.image.url }}" alt="{{ product.title }}">
        <div class="product-info">
          <h4>{{ product.title }}</h4>


      <!-- â­ Rating System (Static Example for Now) -->
      <div class="rating">
        <span class="star">â˜…</span>
        <span class="star">â˜…</span>
        <span class="star">â˜…</span>
        <span class="star">â˜…</span>
        <span class="star" style="color:#ccc;">â˜…</span>
      </div>

      <p class="price">â‚¹{{ product.price }}</p>
      <p class="desc">{{ product.description|truncatechars:60 }}</p>
      <a href="/product/{{ product.id }}/" class="view-btn">View Details</a>
    </div>
  </div>
  {% empty %}
  <p class="no-products">No products available in this category.</p>
  {% endfor %}
</div>


  </div>
  {% endfor %}
</section>

<!-- âœ… BOTTOM BANNERS -->

<section class="bottom-banners">
  <div class="bottom-banner men">
    <div class="banner-overlay">
      <h3>Menâ€™s Fashion</h3>
      <p>Flat 70% Off on Premium Wear</p>
      <a href="#Technology" class="btn-small">Shop Now</a>
    </div>
  </div>

  <div class="bottom-banner women">
    <div class="banner-overlay">
      <h3>Womenâ€™s Fashion</h3>
      <p>Trendy Styles â€” Up to 65% Off</p>
      <a href="#Audio" class="btn-small">Shop Now</a>
    </div>
  </div>
</section>

<script>
// ðŸŒŸ Smooth Scroll Adjustment (with offset for navbar height)
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      window.scrollTo({
        top: target.offsetTop - 80, // offset for header
        behavior: "smooth"
      });
    }
  });
});
</script>

{% endblock %}
