{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/thankyou.css' %}">
{% endblock %}

{% block content %}
<div class="thankyou-container">
    <div class="thankyou-card">
        <h1>Thank You for Your Order!</h1>
        <p class="subtitle">We appreciate your interest in VisthaShoap.</p>

        {% if request.session.last_order %}
        {% with order=request.session.last_order %}
        <div class="order-details">
            <h3>Order Summary</h3>
            <p><strong>Name:</strong> {{ order.name }}</p>
            <p><strong>Email:</strong> {{ order.email }}</p>
            <p><strong>Phone:</strong> {{ order.phone }}</p>
            <p><strong>Address:</strong> {{ order.address }}</p>
            <p><strong>Payment Method:</strong> {{ order.payment_method|title }}</p>
            {% if order.payment_method == 'card' %}
            <p><strong>Card Number:</strong> **** **** **** {{ order.card_number|slice:"-4:" }}</p>
            <p><strong>Expiry:</strong> {{ order.expiry }}</p>
            {% endif %}
            <h4>Products Ordered:</h4>
            <ul>
                {% for pid, qty in order.cart.items %}
                <li>{{ pid }} - Quantity: {{ qty }}</li>
                {% endfor %}
            </ul>
            <h3>Total Amount: â‚¹{{ order.total_price }}</h3>
        </div>
        {% endwith %}
        {% endif %}

        <div class="business-info">
            <p><strong>Note:</strong> VisthaShop is currently not operational. Once we launch, we will notify you via your email.</p>
            <p>We are committed to providing a seamless shopping experience and quality products for you. Stay tuned!</p>
        </div>

        <a href="{% url 'home' %}" class="btn-home">Back to Home</a>
    </div>
</div>
{% endblock %}
